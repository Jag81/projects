<div id=D__ID>
    <section class=form_container__ID>
    	<div id=header__ID>
			<button id=Request__ID type="button" class="btn btn-secondary">My Request</button>
			<button id=Approval__ID type="button" class="btn btn-secondary">Manager Approval</button>
    	</div>
    	<form id=F__ID class=fm__ID>
    		<div class="container">
				<div class="row row__ID">
					<div class=col-md-3>Manager for approval</div>
					<div class=col-md-9><input type=text class=form-control name=Manager_for_Approval /></div>
				</div>
                <hr class=hr__ID>
				<div class="row row__ID">
					<div class=col-md-3>First name</div>
					<div class=col-md-9><input type=text class=form-control name=First_name /></div>
				</div>
                <hr class=hr__ID>
				<div class="row row__ID">
					<div class=col-md-3>Last name</div>
					<div class=col-md-9><input type=text class=form-control name=Last_name /></div>
				</div>
                <hr class=hr__ID>
				<div class="row row__ID">
					<div class=col-md-3>Department</div>
					<div class=col-md-9><input type=text class=form-control name=Department /></div>
				</div>
    		</div>
    	</form>
    	<form id=F2__ID class=fm__ID>
    		<div class="container">
				<div class="row row__ID">
					<div class=col-md-3>Approval</div>
					<div class=col-md-9>
						<label><input type=checkbox name=Approved /> I approve this request.</label>
						<br><span id=msg__ID></span>
						<input type=text name=Approved_by style='display:none' />
					</div>
				</div>
				<div class="row row__ID">
					<div class=col-md-3>Notes</div>
					<div class=col-md-9><textarea class=form-control name=Notes></textarea></div>
				</div>
    		</div>
    	</form>
    	<form id=F3__ID class=fm__ID>
    		<div class="container">
				<div class="row row__ID">
					<div class=col-md-3>Process</div>
					<div class=col-md-9>
						<label><input type=checkbox name=Processed /> I have processed this request.</label>
						<br><span id=msg__ID></span>
						<input type=text name=Processed_by style='display:none' />
					</div>
				</div>
				<div class="row row__ID">
					<div class=col-md-3>Notes</div>
					<div class=col-md-9><textarea class=form-control name=Notes></textarea></div>
				</div>
    		</div>
    	</form>
    </section>
    VmInclude:__COMPONENT__/m/model.01.html
    <script>
    	function F__ID(){
			//F: 	request
			//F2:	approval
			//F3:	process
    		//-------------------------------------
            VmInclude:__COMPONENT__/f/form.01.js
			//-------------------------------------
			m.load=function(){
				//request -> F 
				$('#F__ID')[0].reset();
				if(m.input!=undefined) $vm.deserialize(m.input.record,'#F__ID');
				var v=$('#F__ID input[name=Manager_for_Approval]').val();
				$('#F__ID input[name=Manager_for_Approval]').val(v.split('|')[0]);	
				
				//approval -> F2
				$('#F2__ID')[0].reset();
				if(m.input!=undefined && m.input.record!=undefined && m.input.record.sys_approval!=undefined){
					$vm.deserialize(m.input.record.sys_approval,'#F2__ID');
				}
				
				//process -> F3
				$('#F3__ID')[0].reset();
				if(m.input!=undefined && m.input.record!=undefined && m.input.record.sys_process!=undefined){
					$vm.deserialize(m.input.record.sys_process,'#F3__ID');
				}
				
				//if approved, show message and hide buttons
				if(m.input!=undefined && m.input.record!=undefined && m.input.record.sys_approval!=undefined && m.input.record.sys_approval.Data!=undefined){
					var msg=m.input.record.sys_approval.Data.Approved_by;
					if(msg!=undefined) $('#msg__ID').text(msg);
					if(msg!=undefined && msg.length>5){
						//no modify
						$('#submit1__ID').hide(); $('#submit2__ID').hide();
					}
				}
				//default show request
				$('#F__ID').show(); $('#F2__ID').hide();
			}
			//-------------------------------------
			$('#Request__ID').on('click',function(){  $('#F__ID').show(); $('#F2__ID').hide();  })
			$('#Approval__ID').on('click',function(){  $('#F__ID').hide(); $('#F2__ID').show();  })
			//-------------------------------------
    	}
    </script>
    <style>
		VmInclude:__COMPONENT__/f/form.01.css
        .form_container__ID{
            max-width:820px;
		}
		#header__ID{
			background-color: #9da1a5;
		}
        .hr__ID{
            margin:6px 0;
            padding:0;
        }
    </style>
</div>
